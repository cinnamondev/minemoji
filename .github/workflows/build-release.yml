on:
  push:
    branches: master
    tags: 'v*'
  workflow_dispatch:


jobs:
    setup-java:
        name: setup java
        runs-on: ubuntu-latest
        permissions:
          contents: write
        steps:
        - name: Checkout submodules
          uses: actions/checkout@v5
        - uses: actions/setup-java@v5
          with:
            distribution: 'temurin' # See 'Supported distributions' for available options
            java-version: '21'
        - name: Maven build
          run: mvn clean package 
        - name: Release
          uses: softprops/action-gh-release@v2
          with:
            files: target/minemoji-*.jar
    